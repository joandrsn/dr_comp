OBJECT Page 1300 Mini Customer Card
{
  OBJECT-PROPERTIES
  {
    Date=15-09-15;
    Time=12:00:00;
    Version List=NAVW19.00,NAVDK9.00;
  }
  PROPERTIES
  {
    CaptionML=[DAN=Kundekort (Debitor);
               ENU=Customer Card];
    SourceTable=Table18;
    PageType=Card;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[DAN=Ny,Proces,Rapport,Nyt dokument,Debitor,Historik,Priser og rabatter,Vis,Hjælp;
                                ENU=New,Process,Report,New Document,Customer,History,Prices and Discounts,View,Help];
    OnInit=BEGIN
             EANNoMandatory := "OIOUBL Profile Code" <> ''
           END;

    OnOpenPage=VAR
                 CRMIntegrationManagement@1000 : Codeunit 5330;
               BEGIN
                 CurrPage.PriceAndLineDisc.PAGE.InitPage(FALSE);
                 ShowCharts := "No." <> '';
                 IF ShowCharts THEN BEGIN
                   CurrPage.AgedAccReceivableChart.PAGE.SetPerCustomer;
                   CurrPage.AgedAccReceivableChart2.PAGE.SetPerCustomer;
                 END;

                 SETFILTER("Date Filter",MiniCustomerMgt.GetCurrentYearFilter);

                 CRMIntegrationEnabled := CRMIntegrationManagement.IsCRMIntegrationEnabled;
               END;

    OnAfterGetRecord=VAR
                       AgedAccReceivable@1000 : Codeunit 763;
                     BEGIN
                       BlockedCustomer := (Blocked = Blocked::All);
                       BalanceExhausted := 10000 <= CalcCreditLimitLCYExpendedPct;

                       DaysPastDueDate := AgedAccReceivable.InvoicePaymentDaysAverage("No.");
                       AttentionToPaidDay := DaysPastDueDate > 0;

                       SetSocialListeningFactboxVisibility;
                     END;

    OnNewRecord=VAR
                  MiniCustomerTemplate@1001 : Record 1300;
                  Customer@1002 : Record 18;
                  NewCustomerCode@1003 : Code[20];
                BEGIN
                  IF "No." = '' THEN
                    NewCustomerCode := MiniCustomerTemplate.NewCustomerFromTemplate;
                  IF NewCustomerCode = '' THEN BEGIN
                    CurrPage.CLOSE;
                    EXIT;
                  END;
                  GET(NewCustomerCode);
                  IF Customer.GET("No.") THEN
                    Customer.DELETE(TRUE);
                END;

    OnAfterGetCurrRecord=VAR
                           CRMCouplingManagement@1001 : Codeunit 5331;
                         BEGIN
                           GetSalesPricesAndSalesLineDisc;

                           DynamicEditable := CurrPage.EDITABLE;

                           CRMIsCoupledToRecord :=
                             CRMCouplingManagement.IsRecordCoupledToCRM(RECORDID) AND CRMIntegrationEnabled;
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;  ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 3       ;1   ;ActionGroup;
                      Name=NewDocument;
                      CaptionML=[DAN=Nyt bilag;
                                 ENU=New Document] }
      { 1906384905;2 ;Action    ;
                      Name=NewSalesInvoice;
                      CaptionML=[DAN=Salgsfaktura;
                                 ENU=Sales Invoice];
                      ToolTipML=[DAN=Opret en faktura til kunden.;
                                 ENU=Create an invoice for the customer.];
                      Promoted=Yes;
                      Image=Invoice;
                      PromotedCategory=Category4;
                      RunPageMode=Create;
                      OnAction=BEGIN
                                 CreateAndShowNewInvoice;
                               END;
                                }
      { 88      ;2   ;Action    ;
                      Name=NewSalesQuote;
                      CaptionML=[DAN=Salgstilbud;
                                 ENU=Sales Quote];
                      ToolTipML=[DAN=Opret et tilbud til kunden.;
                                 ENU=Create a quote for the customer.];
                      Promoted=Yes;
                      Image=Quote;
                      PromotedCategory=Category4;
                      RunPageMode=Create;
                      OnAction=BEGIN
                                 CreateAndShowNewQuote;
                               END;
                                }
      { 1902583505;2 ;Action    ;
                      Name=NewSalesCreditMemo;
                      CaptionML=[DAN=Salgskreditnota;
                                 ENU=Sales Credit Memo];
                      ToolTipML=[DAN=Opret en kreditnota til kunden.;
                                 ENU=Create a credit memo for the customer.];
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=CreditMemo;
                      PromotedCategory=Category4;
                      RunPageMode=Create;
                      OnAction=BEGIN
                                 CreateAndShowNewCreditMemo;
                               END;
                                }
      { 99      ;1   ;ActionGroup;
                      Name=ActionGroupCRM;
                      CaptionML=[DAN=Dynamics CRM;
                                 ENU=Dynamics CRM];
                      Visible=CRMIntegrationEnabled }
      { 98      ;2   ;Action    ;
                      Name=CRMGotoAccount;
                      CaptionML=[DAN=Konto;
                                 ENU=Account];
                      ToolTipML=[DAN=Åbn den sammenkædede Microsoft Dynamics CRM-konto.;
                                 ENU=Open the coupled Microsoft Dynamics CRM account.];
                      Image=CoupledCustomer;
                      OnAction=VAR
                                 CRMIntegrationManagement@1000 : Codeunit 5330;
                               BEGIN
                                 CRMIntegrationManagement.ShowCRMEntityFromRecordID(RECORDID);
                               END;
                                }
      { 96      ;2   ;Action    ;
                      Name=CRMSynchronizeNow;
                      CaptionML=[DAN=Synkroniser nu;
                                 ENU=Synchronize Now];
                      ToolTipML=[DAN=Send eller hent opdaterede data til eller fra Microsoft Dynamics CRM.;
                                 ENU=Send or get updated data to or from Microsoft Dynamics CRM.];
                      Image=Refresh;
                      OnAction=VAR
                                 CRMIntegrationManagement@1001 : Codeunit 5330;
                               BEGIN
                                 CRMIntegrationManagement.UpdateOneNow(RECORDID);
                               END;
                                }
      { 25      ;2   ;Action    ;
                      Name=UpdateStatisticsInCRM;
                      CaptionML=[DAN=Opdatér kontostatistik;
                                 ENU=Update Account Statistics];
                      ToolTipML=[DAN=Send debitorstatistikdata til Microsoft Dynamics CRM til opdatering af faktaboksen Kontostatistik;
                                 ENU=Send Customer Statistics data to Microsoft Dynamics CRM to update the Account Statistics factbox];
                      Enabled=CRMIsCoupledToRecord;
                      Image=UpdateXML;
                      OnAction=VAR
                                 CRMIntegrationManagement@1000 : Codeunit 5330;
                               BEGIN
                                 CRMIntegrationManagement.CreateOrUpdateCRMAccountStatistics(Rec);
                               END;
                                }
      { 94      ;2   ;ActionGroup;
                      Name=Coupling;
                      CaptionML=[@@@=Coupling is a noun;
                                 DAN=Sammenkædning;
                                 ENU=Coupling];
                      ToolTipML=[DAN=Opret, ret eller slet en sammenkædning mellem Microsoft Dynamics NAV-recorden og en Microsoft Dynamics CRM-post.;
                                 ENU=Create, change, or delete a coupling between the Microsoft Dynamics NAV record and a Microsoft Dynamics CRM record.];
                      Image=LinkAccount }
      { 93      ;3   ;Action    ;
                      Name=ManageCRMCoupling;
                      CaptionML=[DAN=Konfigurer sammenkædning;
                                 ENU=Set Up Coupling];
                      ToolTipML=[DAN=Opret eller rediger sammenkædningen med en Microsoft Dynamics CRM-konto.;
                                 ENU=Create or modify the coupling to a Microsoft Dynamics CRM account.];
                      Image=LinkAccount;
                      OnAction=VAR
                                 CRMIntegrationManagement@1000 : Codeunit 5330;
                               BEGIN
                                 CRMIntegrationManagement.CreateOrUpdateCoupling(RECORDID);
                               END;
                                }
      { 92      ;3   ;Action    ;
                      Name=DeleteCRMCoupling;
                      CaptionML=[DAN=Slet sammenkædning;
                                 ENU=Delete Coupling];
                      ToolTipML=[DAN=Slet sammenkædningen med en Microsoft Dynamics CRM-konto.;
                                 ENU=Delete the coupling to a Microsoft Dynamics CRM account.];
                      Enabled=CRMIsCoupledToRecord;
                      Image=UnLinkAccount;
                      OnAction=VAR
                                 CRMCouplingManagement@1000 : Codeunit 5331;
                               BEGIN
                                 CRMCouplingManagement.RemoveCoupling(RECORDID);
                               END;
                                }
      { 32      ;1   ;ActionGroup;
                      Name=Customer;
                      CaptionML=[DAN=Kunde (Debitor);
                                 ENU=Customer];
                      Image=Customer }
      { 20      ;2   ;Action    ;
                      Name=<Recurrent Sales Lines>;
                      Ellipsis=Yes;
                      CaptionML=[DAN=Tilbagevendende salgslinjer;
                                 ENU=Recurring Sales Lines];
                      ToolTipML=[DAN=Opsætning af tilbagevendende salgslinjer for debitor, f.eks. en månedlig genbestillingsordre, som hurtigt vil kunne indsættes i et debitorsalgsdokument.;
                                 ENU=Set up recurring sales lines for the customer, such as a monthly replenishment order, that can quickly be inserted on a sales document for the customer.];
                      RunObject=Page 1314;
                      RunPageLink=Customer No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=CustomerCode;
                      PromotedCategory=Category5 }
      { 29      ;2   ;Action    ;
                      CaptionML=[DAN=Bankkonti;
                                 ENU=Bank Accounts];
                      ToolTipML=[DAN=Tilføj oplysninger om debitorens bankkonto.;
                                 ENU=Set up information about the customer's bank account.];
                      RunObject=Page 424;
                      RunPageLink=Customer No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=BankAccount;
                      PromotedCategory=Category5 }
      { 30      ;2   ;Action    ;
                      CaptionML=[DAN=Leverings&adresser;
                                 ENU=Ship-&to Addresses];
                      ToolTipML=[DAN=Angiv den alternative adresse, debitor ønsker varen leveret til, hvis adressen adskiller sig fra debitors standardadresse.;
                                 ENU=Set up the alternate address where the customer wants the item delivered if different from its regular address.];
                      RunObject=Page 301;
                      RunPageLink=Customer No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=ShipAddress;
                      PromotedCategory=Category5 }
      { 22      ;2   ;Action    ;
                      CaptionML=[DAN=Varere&ferencer;
                                 ENU=Cross Re&ferences];
                      ToolTipML=[DAN=Opsætning af debitors egen identifikation af de varer, som du sælger til debitor. Krydshenvisninger til debitors varenummer betyder, at dette varenummer automatisk vises i salgsdokumenter i stedet for det nummer, som du anvender.;
                                 ENU=Set up the customer's own identification of items that you sell to the customer. Cross-references to the customer's item number means that that item number is automatically shown on sales documents instead of the number that you use.];
                      RunObject=Page 5723;
                      RunPageView=SORTING(Cross-Reference Type,Cross-Reference Type No.);
                      RunPageLink=Cross-Reference Type=CONST(Customer),
                                  Cross-Reference Type No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=Change;
                      PromotedCategory=Category5 }
      { 18      ;2   ;Action    ;
                      CaptionML=[DAN=Online Map;
                                 ENU=Online Map];
                      ToolTipML=[DAN=Vis debitors adresse på dit foretrukne kortwebsted.;
                                 ENU=View the customer's address on your preferred map website.];
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Map;
                      PromotedCategory=Category5;
                      OnAction=BEGIN
                                 DisplayMap;
                               END;
                                }
      { 31      ;2   ;Action    ;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[DAN=Dimensioner;
                                 ENU=Dimensions];
                      ToolTipML=[DAN=Angiv standardmål for debitor, f.eks. område- eller kundegruppekode. Du kan tildele målkoder for transaktioner for at fordele omkostninger og analysere historikken.;
                                 ENU=Set up default dimensions for the customer, such as an area or customer group code. You can assign dimension codes to transactions to distribute costs and analyze historical information.];
                      RunObject=Page 540;
                      RunPageLink=Table ID=CONST(18),
                                  No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category5 }
      { 26      ;2   ;Action    ;
                      Name=CustomerReportSelections;
                      CaptionML=[DAN=Dokumentlayouts;
                                 ENU=Document Layouts];
                      Image=Quote;
                      OnAction=VAR
                                 CustomReportSelection@1000 : Record 9657;
                               BEGIN
                                 CustomReportSelection.SETRANGE("Source Type",DATABASE::Customer);
                                 CustomReportSelection.SETRANGE("Source No.","No.");
                                 PAGE.RUNMODAL(PAGE::"Customer Report Selections",CustomReportSelection);
                               END;
                                }
      { 5       ;1   ;ActionGroup;
                      Name=History;
                      CaptionML=[DAN=Oversigt;
                                 ENU=History];
                      Image=History }
      { 80      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=[DAN=Fina&nsposter;
                                 ENU=Ledger E&ntries];
                      ToolTipML=[DAN=Vis historikken over transaktioner for denne debitor.;
                                 ENU=View the history of transactions for the customer.];
                      RunObject=Page 25;
                      RunPageView=SORTING(Customer No.);
                      RunPageLink=Customer No.=FIELD(No.);
                      PromotedIsBig=Yes;
                      Image=CustomerLedger;
                      PromotedCategory=Category6 }
      { 82      ;1   ;ActionGroup;
                      Name=PricesandDiscounts;
                      CaptionML=[DAN=Priser og rabatter;
                                 ENU=Prices and Discounts];
                      Image=Sales }
      { 83      ;2   ;Action    ;
                      CaptionML=[DAN=Faktura&rabatter;
                                 ENU=Invoice &Discounts];
                      ToolTipML=[DAN=Angiv forskellige rabatter, som kan tilføjes fakturaer til debitor. Der gives automatisk en fakturarabat til debitor, når det samlede fakturabeløb overstiger et vist beløb.;
                                 ENU=Set up different discounts that are applied to invoices for the customer. An invoice discount is automatically granted to the customer when the total on a sales invoice exceeds a certain amount.];
                      RunObject=Page 23;
                      RunPageLink=Code=FIELD(Invoice Disc. Code);
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=CalculateInvoiceDiscount;
                      PromotedCategory=Category7 }
      { 113     ;2   ;Action    ;
                      CaptionML=[DAN=Priser;
                                 ENU=Prices];
                      ToolTipML=[DAN=Angiv forskellige priser for de varer, du sælger til kunden. En varepris anføres automatisk på fakturalinjer, når de specificerede kriterier er blevet opfyldt, f.eks. kunde, mængde eller slutdato.;
                                 ENU=Set up different prices for items that you sell to the customer. An item price is automatically granted on invoice lines when the specified criteria are met, such as customer, quantity, or ending date.];
                      RunObject=Page 7002;
                      RunPageView=SORTING(Sales Type,Sales Code);
                      RunPageLink=Sales Type=CONST(Customer),
                                  Sales Code=FIELD(No.);
                      Image=Price }
      { 136     ;2   ;Action    ;
                      CaptionML=[DAN=Linjerabat;
                                 ENU=Line Discounts];
                      ToolTipML=[DAN=Angiv forskellige rabatter for de varer, du sælger til kunden. En varerabat anføres automatisk på fakturalinjer, når de specificerede kriterier er blevet opfyldt, f.eks. kunde, mængde eller slutdato.;
                                 ENU=Set up different discounts for items that you sell to the customer. An item discount is automatically granted on invoice lines when the specified criteria are met, such as customer, quantity, or ending date.];
                      RunObject=Page 7004;
                      RunPageView=SORTING(Sales Type,Sales Code);
                      RunPageLink=Sales Type=CONST(Customer),
                                  Sales Code=FIELD(No.);
                      Image=LineDiscount }
      { 28      ;1   ;ActionGroup;
                      Name=DataTemplate;
                      CaptionML=[DAN=Dataskabelon;
                                 ENU=Data Template] }
      { 167     ;2   ;Action    ;
                      Name=SaveAsTemplate;
                      Ellipsis=Yes;
                      CaptionML=[DAN=Gem som skabelon;
                                 ENU=Save as Template];
                      ToolTipML=[DAN=Gem debitorkortet som en skabelon, der kan genbruges ved oprettelse af nye debitorkort. Debitorskabeloner indeholder forudindstillede oplysninger som en hjælp til udfyldelse af debitorkortene.;
                                 ENU=Save the customer card as a template that can be reused to create new customer cards. Customer templates contain preset information to help you fill fields on customer cards.];
                      PromotedIsBig=Yes;
                      Image=Save;
                      PromotedCategory=New;
                      OnAction=VAR
                                 TempMiniCustomerTemplate@1000 : TEMPORARY Record 1300;
                               BEGIN
                                 TempMiniCustomerTemplate.SaveAsTemplate(Rec);
                               END;
                                }
      { 81      ;2   ;Action    ;
                      Name=Templates;
                      CaptionML=[DAN=Skabeloner;
                                 ENU=Templates];
                      ToolTipML=[DAN=Vis eller rediger kundeskabeloner.;
                                 ENU=View or edit customer templates.];
                      RunObject=Page 1340;
                      RunPageView=WHERE(Table ID=CONST(18));
                      PromotedIsBig=Yes;
                      Image=Template }
      { 84      ;1   ;ActionGroup;
                      Name=Reports;
                      CaptionML=[DAN=Rapporter;
                                 ENU=Reports];
                      Image=Reports }
      { 85      ;2   ;ActionGroup;
                      Name=FinanceReports;
                      CaptionML=[DAN=Finansrapporter;
                                 ENU=Finance Reports];
                      Image=Report }
      { 1906813206;3 ;Action    ;
                      Name=Report Customer Detailed Aging;
                      CaptionML=[DAN=Debitor - forfaldne debitorposter;
                                 ENU=Customer - Detailed Aging];
                      ToolTipML=[DAN=Vis, udskriv eller gem en detaljeret liste over hver debitors samlede forfaldne betalinger, opdelt i tre tidsperioder. Rapporten kan bruges til at bestemme, hvornår der skal udstedes rykkere, til at vurdere en debitors kreditværdighed eller til at udarbejde likviditetsanalyser.;
                                 ENU=View, print, or save a detailed list of each customer's total payments due, divided into three time periods. The report can be used to decide when to issue reminders, to evaluate a customer's creditworthiness, or to prepare liquidity analyses.];
                      Image=Report;
                      OnAction=VAR
                                 Customer@1001 : Record 18;
                               BEGIN
                                 Customer.SETRANGE("No.","No.");
                                 REPORT.RUNMODAL(REPORT::"Customer Detailed Aging",TRUE,TRUE,Customer);
                               END;
                                }
      { 1902299006;3 ;Action    ;
                      Name=Report Customer - Balance to Date;
                      CaptionML=[DAN=Debitor - saldo til dato;
                                 ENU=Customer - Balance to Date];
                      ToolTipML=[DAN=Vis, udskriv, eller gem en liste over debitorers betalingshistorik op til en bestemt dato. Du kan bruge rapporten til at udtrække oplysninger om din samlede salgsindkomst ved slutningen af en regnskabsperiode eller et regnskabsår.;
                                 ENU=View, print, or save a list with customers' payment history up until a certain date. You can use the report to extract your total sales income at the close of an accounting period or fiscal year.];
                      Image=Report;
                      OnAction=VAR
                                 Customer@1001 : Record 18;
                               BEGIN
                                 Customer.SETRANGE("No.","No.");
                                 REPORT.RUNMODAL(REPORT::"Customer - Balance to Date",TRUE,TRUE,Customer);
                               END;
                                }
      { 9       ;3   ;Action    ;
                      Name=Report Statement;
                      CaptionML=[DAN=Kontoudtog;
                                 ENU=Statement];
                      ToolTipML=[DAN=Vis, udskriv, eller gem en liste over debitors transaktioner i en bestemt periode, f.eks. for at sende udskriften til debitor i slutningen af en regnskabsperiode. Du kan vælge at få vist samtlige forfaldne saldi, uafhængigt af den angivne periode, eller du kan vælge at inkludere et aldersfordelingsinterval.;
                                 ENU=View, print, or save a list of a customer's transactions for a selected period, for example, to send to the customer at the close of an accounting period. You can choose to have all overdue balances displayed regardless of the period specified, or you can choose to include an aging band.];
                      Image=Report;
                      OnAction=VAR
                                 Customer@1000 : Record 18;
                               BEGIN
                                 Customer.SETRANGE("No.","No.");
                                 REPORT.RUNMODAL(REPORT::Statement,TRUE,TRUE,Customer);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=[DAN=Debitor;
                           ENU=Customer];
                GroupType=Group }

    { 2   ;2   ;Field     ;
                ToolTipML=[DAN=Angiver nummeret på debitoren. Feltet udfyldes enten automatisk fra en defineret nummerserie, eller du kan indtaste nummeret manuelt, fordi du har aktiveret manuel nummerindtastning i opsætningen af nummerserier.;
                           ENU=Specifies the number of the customer. The field is either filled automatically from a defined number series, or you enter the number manually because you have enabled manual number entry in the number-series setup.];
                SourceExpr="No.";
                Importance=Additional;
                OnAssistEdit=BEGIN
                               IF AssistEdit(xRec) THEN
                                 CurrPage.UPDATE;
                             END;
                              }

    { 4   ;2   ;Field     ;
                ToolTipML=[DAN=Angiver kundens navn. Dette navn vises på alle salgsdokumenter for debitoren. Du kan maksimalt skrive 50 tegn, som kan være både tal og bogstaver.;
                           ENU=Specifies the customer's name. This name will appear on all sales documents for the customer. You can enter a maximum of 50 characters, both numbers and letters.];
                SourceExpr=Name;
                Importance=Promoted;
                ShowMandatory=TRUE }

    { 23  ;2   ;Field     ;
                Name=<Blocked>;
                CaptionML=[DAN=Spærret;
                           ENU=Blocked];
                ToolTipML=[DAN=Angiver, om transaktioner med debitoren skal blokeres, eksempelvis fordi debitoren er erklæret insolvent.;
                           ENU=Specifies if transactions with the customer should be blocked, for example, because the customer is declared insolvent.];
                OptionCaptionML=[DAN=" ,,,Alle";
                                 ENU=" ,,,All"];
                SourceExpr=BlockedCustomer;
                Enabled=DynamicEditable;
                OnValidate=BEGIN
                             IF BlockedCustomer THEN
                               Blocked := Blocked::All
                             ELSE
                               Blocked := Blocked::" ";
                           END;
                            }

    { 17  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, hvornår debitorkortet sidst blev ændret.;
                           ENU=Specifies when the customer card was last modified.];
                SourceExpr="Last Date Modified";
                Importance=Additional }

    { 62  ;2   ;Field     ;
                Name=TotalSales2;
                CaptionML=[DAN=Salg i alt;
                           ENU=Total Sales];
                ToolTipML=[DAN=Angiver den samlede salgsomsætning med debitoren i det aktuelle regnskabsår. Den beregnes ud fra beløbene, ekskl. moms, på alle afsluttede og åbne salgsfakturaer og kreditnotaer.;
                           ENU=Specifies your total sales turnover with the customer in the current fiscal year. It is calculated from amounts excluding VAT on all completed and open sales invoices and credit memos.];
                SourceExpr=GetTotalSales;
                Style=Strong;
                StyleExpr=TRUE }

    { 57  ;2   ;Field     ;
                CaptionML=[DAN=Kostpriser (RV);
                           ENU=Costs (LCY)];
                ToolTipML=[DAN=Angiver, hvor meget kostpris der er påløbet fra debitoren i det aktuelle regnskabsår. Den er beregnet som summen af kostpriser for alle varer, du har solgt til debitoren. Dette omfatter eventuelle ændringer, der er opstået i dine købspriser på varerne.;
                           ENU=Specifies how much cost you have incurred from the customer in the current fiscal year. It is calculated as the sum of unit costs of all the goods you have sold to the customer. This includes any changes that occurred in your purchase prices of the goods.];
                SourceExpr=CustSalesLCY - CustProfit - AdjmtCostLCY;
                AutoFormatType=1 }

    { 45  ;2   ;Field     ;
                CaptionML=[DAN=Avancebeløb (RV);
                           ENU=Profit (LCY)];
                ToolTipML=[DAN=Angiver, hvor meget avance du har skabt på debitoren i det aktuelle regnskabsår. Beregningen tager hensyn til eventuelle ændringer, som er foretaget i købspriser for solgte varer.;
                           ENU=Specifies how much profit you have made from the customer in the current fiscal year. The calculation takes into account any changes that occurred in purchase prices of the sold goods.];
                SourceExpr=AdjCustProfit;
                AutoFormatType=1;
                Importance=Additional;
                Editable=False }

    { 51  ;2   ;Field     ;
                CaptionML=[DAN=Avancepct.;
                           ENU=Profit %];
                ToolTipML=[DAN=Angiver, hvor meget avance du har skabt på debitoren i det aktuelle regnskabsår, udtrykt som en procentdel af debitorens samlede salg. Beregningen tager hensyn til eventuelle ændringer, som er foretaget i købspriser for solgte varer.;
                           ENU=Specifies how much profit you have made from the customer in the current fiscal year, expressed as a percentage of the customer's total sales. The calculation takes into account any changes that occurred in purchase prices of the sold goods.];
                DecimalPlaces=1:1;
                SourceExpr=AdjProfitPct;
                Importance=Additional;
                Editable=False }

    { 65  ;1   ;Group     ;
                CaptionML=[DAN=Adresse og kontakt;
                           ENU=Address & Contact];
                GroupType=Group }

    { 19  ;2   ;Group     ;
                Name=AddressDetails;
                CaptionML=[DAN=Adresse;
                           ENU=Address];
                GroupType=Group }

    { 6   ;3   ;Field     ;
                ToolTipML=[DAN=Angiver kundens adresse. Denne adresse vises på alle salgsdokumenter for debitoren. Du kan maksimalt skrive 50 tegn, som kan være både tal og bogstaver.;
                           ENU=Specifies the customer's address. This address will appear on all sales documents for the customer. You can enter a maximum of 50 characters, both numbers and letters.];
                SourceExpr=Address }

    { 8   ;3   ;Field     ;
                ToolTipML=[DAN=Angiver en anden linje i debitorens adresse. Denne adresse vises på alle salgsdokumenter for debitoren. Du kan højst angive 30 tegn, både tal og bogstaver.;
                           ENU=Specifies a second line in the customer's address. This address will appear on all sales documents for the customer. You can enter a maximum of 30 characters, both numbers and letters.];
                SourceExpr="Address 2" }

    { 90  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens postnummer.;
                           ENU=Specifies the customer's post code.];
                SourceExpr="Post Code";
                Importance=Promoted }

    { 10  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver kundens by.;
                           ENU=Specifies the customer's city.];
                SourceExpr=City }

    { 91  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver lande-/områdekoden for debitoren. Klik på feltet, hvis du vil have vist lande-/områdekoderne og adresseformaterne i vinduet Lande-/områdekode.;
                           ENU=Specifies a country/region code for the customer. To see the country/region codes and address formats in the Countries/Regions window, click the field.];
                SourceExpr="Country/Region Code" }

    { 21  ;2   ;Group     ;
                Name=ContactDetails;
                CaptionML=[DAN=Kontakt;
                           ENU=Contact];
                GroupType=Group }

    { 12  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens telefonnummer. Du kan bruge op til 30 tegn (både tal og bogstaver).;
                           ENU=Specifies the customer's telephone number. You can enter a maximum of 30 characters, both numbers and letters.];
                SourceExpr="Phone No." }

    { 107 ;3   ;Field     ;
                ToolTipML=[DAN=Angiver kundens mailadresse. Du kan bruge op til 80 tegn (både tal og bogstaver).;
                           ENU=Specifies the customer's e-mail address. You can enter a maximum of 80 characters, both numbers and letters.];
                SourceExpr="E-Mail";
                Importance=Promoted }

    { 109 ;3   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens hjemmesideadresse. Du kan bruge op til 80 tegn (både tal og bogstaver).;
                           ENU=Specifies the customer's home page address. You can enter a maximum of 80 characters, both numbers and letters.];
                SourceExpr="Home Page" }

    { 16  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver navnet på en fast kontaktperson hos debitoren. Du kan bruge op til 30 tegn (både tal og bogstaver).;
                           ENU=Specifies the name of the person you regularly contact when you do business with this customer. You can enter a maximum of 30 characters, both numbers and letters.];
                SourceExpr=Contact;
                Importance=Promoted }

    { 14  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver den foretrukne metode til afsendelse af dokumenter til denne kunde, så du ikke behøver at vælge en afsendelsesindstilling, hver gang du bogfører og sender et dokument til kunden. Salgsdokumenter til denne kunde skal sendes med den angivne afsendelsesprofil og tilsidesætter standarddokumentets afsendelsesprofil.;
                           ENU=Specifies the preferred method of sending documents to this customer, so that you do not have to select a sending option every time that you post and send a document to the customer. Sales documents to this customer will be sent using the specified sending profile and will override the default document sending profile.];
                SourceExpr="Document Sending Profile" }

    { 1905885101;1;Group  ;
                Name=Invoicing;
                CaptionML=[DAN=Fakturering;
                           ENU=Invoicing];
                GroupType=Group }

    { 64  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver det maksimale beløb, som du tillader, at debitoren overskrider betalingssaldoen med, før der udstedes advarsler.;
                           ENU=Specifies the maximum amount by which you allow the customer to exceed the payment balance before warnings are issued.];
                SourceExpr="Credit Limit (LCY)" }

    { 69  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver kundens momsregistreringsnummer for kunder i EU-lande/-områder. Vælg knappen Specificer for at bruge en webtjeneste, der kontrollerer, om nummeret findes i det pågældende lands virksomhedsregistrering.;
                           ENU=Specifies the customer's VAT registration number for customers in EU countries/regions. Choose the DrillDown button to use a web service that verifies if the number exists in the country's company register.];
                SourceExpr="VAT Registration No.";
                Importance=Additional;
                OnDrillDown=VAR
                              VATRegistrationLogMgt@1000 : Codeunit 249;
                            BEGIN
                              VATRegistrationLogMgt.AssistEditCustomerVATReg(Rec);
                            END;
                             }

    { 78  ;2   ;Field     ;
                ToolTipML=[DAN=Identificerer kunden i forbindelse med afsendelse af elektronisk dokument. For PEPPOL formatet bruges feltet på følgende måde: Hvis EndPointID elementet i Debitor gruppen har SchemeID attributten indstillet til GLN, knyttes elementet til GLN på debitorkortet. Hvis feltet er tomt, anvendes værdien i feltet SE/CVR-nr..;
                           ENU=Identifies the customer in connection with electronic document sending. For the PEPPOL format, the field is used as follows: If the EndPointID element in the Customer group has the SchemeID attribute set to GLN, then the element is mapped to GLN field on the customer card. If the field is blank, then the value in the VAT Registration No. field is used.];
                SourceExpr=GLN;
                Importance=Additional }

    { 34  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver nummeret på en anden debitor, der skal faktureres for produkter, som du sælger til debitoren, i feltet Navn på debitorkortet.;
                           ENU=Specifies a different customer who will be invoiced for products that you sell to the customer in the Name field on the customer card.];
                SourceExpr="Bill-to Customer No.";
                Importance=Additional;
                LookupPageID=Mini Customer List;
                DrillDownPageID=Mini Customer List }

    { 70  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens handelstype for at knytte transaktioner, der er foretaget for denne debitor, til den relevante finanskonto i overensstemmelse med den generelle bogføringsopsætning.;
                           ENU=Specifies the customer's trade type to link transactions made for this customer with the appropriate general ledger account according to the general posting setup.];
                SourceExpr="Gen. Bus. Posting Group";
                Importance=Additional;
                ShowMandatory=TRUE }

    { 58  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens momsspecifikation for at knytte transaktioner, der er foretaget for denne debitor, til den relevante finanskonto i overensstemmelse med momsbogføringsopsætningen.;
                           ENU=Specifies the customer's VAT specification to link transactions made for this customer with the appropriate general ledger account according to the VAT posting setup.];
                SourceExpr="VAT Bus. Posting Group";
                Importance=Additional;
                ShowMandatory=TRUE }

    { 38  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver debitorens markedstype for at knytte forretningstransaktioner, der er foretaget for debitoren, til den relevante konto i regnskabet.;
                           ENU=Specifies the customer's market type to link business transactions made for the customer with the appropriate account in the general ledger.];
                SourceExpr="Customer Posting Group";
                Importance=Additional;
                ShowMandatory=TRUE }

    { 36  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, hvor mange kopier af en salgsfaktura for debitoren, der skal udskrives ad gangen. Angiv f.eks. 2, hvis du altid bevarer en kopi i dine filer ud over den, som du sender til debitoren.;
                           ENU=Specifies how many copies of a sales invoice for the customer will be printed at a time. For example, enter 2 if you always keep a copy in your files in addition to the one that you send to the customer.];
                SourceExpr="Invoice Copies";
                Importance=Additional }

    { 1060000;2;Group     ;
                Name=OIOUBL-invoicing;
                CaptionML=[DAN=OIOUBL-fakturering;
                           ENU=OIOUBL-invoicing];
                GroupType=Group }

    { 1060001;3;Field     ;
                ToolTipML=[DAN=Angiver EAN-lokationsnummeret for debitoren.;
                           ENU=Specifies the EAN location number for the customer.];
                SourceExpr="EAN No.";
                ShowMandatory=EANNoMandatory }

    { 1060002;3;Field     ;
                ToolTipML=[DAN=Angiver kundens kontokode. Du kan højst angive 30 tegn.;
                           ENU=Specifies the account code for the customer. You can enter a maximum of 30 characters.];
                SourceExpr="Account Code" }

    { 1060003;3;Field     ;
                ToolTipML=[DAN=Angiver den profil, som denne debitor kræver til elektroniske dokumenter.;
                           ENU=Specifies the profile that this customer requires for electronic documents.];
                SourceExpr="OIOUBL Profile Code";
                OnValidate=BEGIN
                             EANNoMandatory := "OIOUBL Profile Code" <> ''
                           END;
                            }

    { 1060004;3;Field     ;
                ToolTipML=[DAN=Angiver, om denne debitor kræver en profilkode til elektroniske dokumenter.;
                           ENU=Specifies if this customer requires a profile code for electronic documents.];
                SourceExpr="OIOUBL Profile Code Required" }

    { 27  ;2   ;Group     ;
                Name=PricesandDiscounts;
                CaptionML=[DAN=Priser og rabatter;
                           ENU=Prices and Discounts];
                GroupType=Group }

    { 40  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver den debitorprisgruppekode, som du kan bruge som kriterie til at konfigurere særlige salgspriser i vinduet Salgspriser.;
                           ENU=Specifies the customer price group code, which you can use as a criterion to set up special sales prices in the Sales Prices window.];
                SourceExpr="Customer Price Group";
                Importance=Promoted }

    { 44  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver den debitorrabatgruppekode, som du kan bruge som kriterie til at konfigurere særlige rabatter i vinduet Salgslinjerabatter.;
                           ENU=Specifies the customer discount group code, which you can use as a criterion to set up special discounts in the Sales Line Discounts window.];
                SourceExpr="Customer Disc. Group";
                Importance=Promoted }

    { 46  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver, om en salgslinjerabat beregnes, når en særlig salgspris tilbydes i overensstemmelse med opsætningen i vinduet Salgspriser.;
                           ENU=Specifies if a sales line discount is calculated when a special sales price is offered according to setup in the Sales Prices window.];
                SourceExpr="Allow Line Disc.";
                Importance=Additional }

    { 129 ;3   ;Field     ;
                ToolTipML=[DAN=Angiver, om felterne Enhedspris og Linjebeløb på salgslinjer for denne debitor skal vises med eller uden moms.;
                           ENU=Specifies if the Unit Price and Line Amount fields on sales lines for this customer should be shown with or without VAT.];
                SourceExpr="Prices Including VAT";
                Importance=Additional }

    { 1907468901;2;Group  ;
                Name=ForeignTrade;
                CaptionML=[DAN=Udenrigshandel;
                           ENU=Foreign Trade];
                GroupType=Group }

    { 67  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver standardvalutaen for kunden. Koden indsættes som standard i salgsdokumenter for debitoren, men du kan ændre den.;
                           ENU=Specifies the default currency for the customer. The code will be inserted on sales documents for the customer by default, but you can change it.];
                SourceExpr="Currency Code";
                Importance=Additional }

    { 66  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver sproget, der skal anvendes på udskrifter til denne debitor. I vinduet Varetekster kan du oprette fremmedsprogede tekster til varerne. Hvis du har gjort det, vil sprogkoden blive brugt til at indsætte fremmedsproget tekst på udskrifter til debitoren.;
                           ENU=Specifies the language to be used on printouts for this customer. In the Item Translations window, you can set up foreign language descriptions of items. If you have set these up, then the language code is used to insert the appropriate foreign text on printouts for the customer.];
                SourceExpr="Language Code";
                Importance=Additional }

    { 1901677601;1;Group  ;
                Name=Payments;
                CaptionML=[DAN=Betalinger;
                           ENU=Payments];
                GroupType=Group }

    { 48  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, hvordan du kan udligne betalinger på poster for denne debitor. Vælg Manuel for manuelt at angive det dokument, en betaling gælder for. Dette er standardmetoden Vælg Saldo for automatisk at udligne betalinger med den ældste åbne debitorpost.;
                           ENU=Specifies how to apply payments to entries for this customer. Select Manual to manually specify the document that a payment applies to. This is the default method. Select Apply to Oldest to automatically apply payments to the oldest open customer ledger entry.];
                SourceExpr="Application Method";
                Importance=Additional }

    { 50  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver en kode, der angiver, hvilke betalingsbetingelser du kræver af kunden. Den betalingsbetingelseskode, du definerer i dette felt, indsættes på salgsfakturaer til debitoren.;
                           ENU=Specifies a code that indicates the payment terms that you require of the customer. The payment terms code you define in this field is inserted on sales invoices for the customer.];
                SourceExpr="Payment Terms Code";
                Importance=Promoted;
                ShowMandatory=TRUE }

    { 11  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, hvordan kunden sædvanligvis sender betaling, f.eks. via bankoverførsel eller check. Den betalingsformkode, du vælger i dette felt, indsættes på salgsfakturaer til debitoren.;
                           ENU=Specifies how the customer usually submits payment, such as bank transfer or check. The payment method code that you select in this field is inserted on sales invoices for the customer.];
                SourceExpr="Payment Method Code";
                Importance=Additional }

    { 15  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, hvordan rykkere om forfaldne betalinger håndteres for denne kunde.;
                           ENU=Specifies how reminders about late payments are handled for this customer.];
                SourceExpr="Reminder Terms Code";
                Importance=Additional }

    { 52  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, at renter beregnes for debitoren. En rentebetingelseskode indeholder oplysninger om renteberegningsprincip, rentesats m.v.;
                           ENU=Specifies finance charges are calculated for the customer. A finance charge terms code contains information about the interest calculation method, interest rate, and so on.];
                SourceExpr="Fin. Charge Terms Code";
                Importance=Additional }

    { 54  ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, om debitoren skal med i en udskrift af Kontoudtog-rapporten.;
                           ENU=Specifies whether to include this customer when you print the Statement report.];
                SourceExpr="Print Statements";
                Importance=Additional }

    { 60  ;2   ;Field     ;
                ToolTipML=[DAN=Viser nummeret på det sidste kontoudtog, der blev udskrevet til debitoren.;
                           ENU=Shows the number of the last statement that was printed for this customer.];
                SourceExpr="Last Statement No.";
                Importance=Additional }

    { 143 ;2   ;Field     ;
                ToolTipML=[DAN=Angiver, at debitoren ikke har tilladelse til en betalingstolerance, der f.eks. overskrider det maksimalt tilladte beløb, som betalingen eller refusionen kan afvige fra det beløb, der er angivet på fakturaen eller kreditnotaen.;
                           ENU=Specifies that the customer is not allowed a payment tolerance, for example, to exceed the maximum allowed amount by which the payment or refund can differ from the amount on the invoice or credit memo.];
                SourceExpr="Block Payment Tolerance";
                Importance=Additional }

    { 7   ;2   ;Field     ;
                ToolTipML=[DAN=Angiver den debitorbankkonto, der skal bruges som standard, når du behandler refusioner til kunden og Direct Debit-opkrævninger.;
                           ENU=Specifies the customer's bank account that will be used by default when you process refunds to the customer and direct debit collections.];
                SourceExpr="Preferred Bank Account";
                Importance=Additional }

    { 56  ;1   ;Group     ;
                Name=Statistics;
                CaptionML=[DAN=Statistik;
                           ENU=Statistics];
                Editable=false;
                GroupType=Group }

    { 55  ;2   ;Group     ;
                Name=Balance;
                CaptionML=[DAN=Saldo;
                           ENU=Balance];
                GroupType=Group }

    { 53  ;3   ;Field     ;
                CaptionML=[DAN=Skyldige beløb - aktuelle;
                           ENU=Money Owed - Current];
                ToolTipML=[DAN=Angiver det betalingsbeløb, som debitoren skylder for afsluttede salg. Denne værdi er også kendt som debitorens saldo.;
                           ENU=Specifies the payment amount that the customer owes for completed sales. This value is also known as the customer's balance.];
                SourceExpr="Balance (LCY)";
                Importance=Additional }

    { 68  ;3   ;Field     ;
                CaptionML=[DAN=Skyldige beløb - forventede;
                           ENU=Money Owed - Expected];
                ToolTipML=[DAN=Angiver det betalingsbeløb, som debitoren vil skylde, når løbende salgsfakturaer og kreditnotaer er afsluttet.;
                           ENU=Specifies the payment amount that the customer will owe when ongoing sales invoices and credit memos are completed.];
                SourceExpr=GetMoneyOwedExpected;
                Importance=Additional;
                OnDrillDown=BEGIN
                              MiniCustomerMgt.DrillDownMoneyOwedExpected("No.");
                            END;
                             }

    { 43  ;3   ;Field     ;
                CaptionML=[DAN=Skyldige beløb - i alt;
                           ENU=Money Owed - Total];
                ToolTipML=[DAN=Angiver det betalingsbeløb, som debitoren skylder for afsluttede salg samt salg, der stadig er igangværende. Værdien er summen af værdierne i feltet Skyldige beløb - aktuelle og Skyldige beløb - forventede.;
                           ENU=Specifies the payment amount that the customer owes for completed sales plus sales that are still ongoing. The value is the sum of the values in the Money Owed - Current and Money Owed - Expected fields.];
                SourceExpr="Balance (LCY)" + GetMoneyOwedExpected;
                Style=Strong;
                StyleExpr=TRUE }

    { 42  ;3   ;Field     ;
                Name=CreditLimit;
                CaptionML=[DAN=Kreditmaksimum;
                           ENU=Credit Limit];
                ToolTipML=[DAN=Angiver det maksimale beløb, som du tillader, at debitoren overskrider betalingssaldoen med, før der udstedes advarsler.;
                           ENU=Specifies the maximum amount by which you allow the customer to exceed the payment balance before warnings are issued.];
                SourceExpr="Credit Limit (LCY)" }

    { 41  ;3   ;Field     ;
                ExtendedDatatype=Ratio;
                CaptionML=[DAN=Udnyttet kreditmaksimum;
                           ENU=Usage Of Credit Limit];
                ToolTipML=[DAN=Angiver, hvor meget af debitorens betalingssaldo der består af kreditnotaer. Måleren vises værdien i feltet Skyldige beløb - i alt som en procentdel af værdien i feltet Kreditmaksimum.;
                           ENU=Specifies how much of the customer's payment balance consists of credit. The gauge shows the value in the Money Owed - Total field as a percentage of the value in the Credit Limit field.];
                SourceExpr=CalcCreditLimitLCYExpendedPct;
                Style=Attention;
                StyleExpr=BalanceExhausted }

    { 39  ;2   ;Group     ;
                CaptionML=[DAN=Betalinger;
                           ENU=Payments];
                GroupType=Group }

    { 37  ;3   ;Field     ;
                Name=Balance Due;
                ToolTipML=[DAN=Angiver betalinger fra debitoren, der er forfaldne pr. dags dato.;
                           ENU=Specifies payments from the customer that are overdue per today's date.];
                SourceExpr=CalcOverdueBalance;
                CaptionClass=FORMAT(STRSUBSTNO(OverduePaymentsCap,FORMAT(WORKDATE)));
                OnDrillDown=VAR
                              DtldCustLedgEntry@1000 : Record 379;
                              CustLedgEntry@1001 : Record 21;
                            BEGIN
                              DtldCustLedgEntry.SETFILTER("Customer No.","No.");
                              COPYFILTER("Global Dimension 1 Filter",DtldCustLedgEntry."Initial Entry Global Dim. 1");
                              COPYFILTER("Global Dimension 2 Filter",DtldCustLedgEntry."Initial Entry Global Dim. 2");
                              COPYFILTER("Currency Filter",DtldCustLedgEntry."Currency Code");
                              CustLedgEntry.DrillDownOnOverdueEntries(DtldCustLedgEntry);
                            END;
                             }

    { 35  ;3   ;Field     ;
                CaptionML=[DAN=Betalinger dette år;
                           ENU=Payments This Year];
                ToolTipML=[DAN=Angiver summen af betalinger, der er modtaget fra debitoren i det aktuelle regnskabsår.;
                           ENU=Specifies the sum of payments received from the customer in the current fiscal year.];
                SourceExpr="Payments (LCY)" }

    { 33  ;3   ;Field     ;
                CaptionML=[DAN=Gnsn. antal kreditdage;
                           ENU=Average Collection Period (Days)];
                ToolTipML=[DAN=Angiver, hvor længe debitoren normalt er om at betale fakturaer i det aktuelle regnskabsår. Dette er det gennemsnitlige antal dage, fra fakturaerne udstedes, til debitoren betaler fakturaen.;
                           ENU=Specifies how long the customer typically takes to pay invoices in the current fiscal year. This is the average number of days from which invoices are issued until the customer pays the invoice.];
                DecimalPlaces=0:1;
                SourceExpr=MiniCustomerMgt.AvgDaysToPay("No.");
                Importance=Additional }

    { 79  ;3   ;Field     ;
                Name=DaysPaidPastDueDate;
                CaptionML=[DAN=Gennemsnitlige forsinkede betalinger (dage);
                           ENU=Average Late Payments (Days)];
                ToolTipML=[DAN=Angiver det gennemsnitlige antal dage, kunden er forsinket med betalinger.;
                           ENU=Specifies the average number of days the customer is late with payments.];
                DecimalPlaces=0:1;
                SourceExpr=DaysPastDueDate;
                Importance=Additional;
                Style=Attention;
                StyleExpr=AttentionToPaidDay }

    { 59  ;2   ;Group     ;
                CaptionML=[DAN=Omsætning dette år;
                           ENU=Sales This Year];
                GroupType=Group }

    { 61  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver dine salg til debitoren i det aktuelle regnskabsår baseret på afsluttede salgsfakturaer. Tallet i parentes viser antallet af fakturaer.;
                           ENU=Specifies your sales to the customer in the current fiscal year based on completed sales invoices. The figure in parenthesis shows the number of invoices.];
                SourceExpr=GetAmountOnPostedInvoices;
                CaptionClass=STRSUBSTNO(PostedInvoicesCap,FORMAT(NoPostedInvoices));
                OnDrillDown=BEGIN
                              MiniCustomerMgt.DrillDownOnPostedInvoices("No.")
                            END;
                             }

    { 71  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver dine refusioner til debitoren i det aktuelle regnskabsår baseret på afsluttede salgskreditnotaer. Tallet i parentes viser antallet af kreditnotaer.;
                           ENU=Specifies your refunds to the customer in the current fiscal year based on completed sales credit memos. The figure in parenthesis shows the number of credit memos.];
                SourceExpr=GetAmountOnCrMemo;
                CaptionClass=STRSUBSTNO(CreditMemosCap,FORMAT(NoPostedCrMemos));
                OnDrillDown=BEGIN
                              MiniCustomerMgt.DrillDownOnPostedCrMemo("No.")
                            END;
                             }

    { 72  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver dine forventede salg til debitoren i det aktuelle regnskabsår baseret på åbne salgsfakturaer. Tallet i parentes viser antallet af åbne fakturaer.;
                           ENU=Specifies your expected sales to the customer in the current fiscal year based on open sales invoices. The figure in parenthesis shows the number of open invoices.];
                SourceExpr=GetAmountOnOutstandingInvoices;
                CaptionClass=STRSUBSTNO(OutstandingInvoicesCap,FORMAT(NoOutstandingInvoices));
                OnDrillDown=BEGIN
                              MiniCustomerMgt.DrillDownOnUnpostedInvoices("No.")
                            END;
                             }

    { 73  ;3   ;Field     ;
                ToolTipML=[DAN=Angiver dine forventede refusioner til debitoren i det aktuelle regnskabsår baseret på åbne salgskreditnotaer. Tallet i parentes viser antallet af åbne kreditnotaer.;
                           ENU=Specifies your expected refunds to the customer in the current fiscal year based on open sales credit memos. The figure in parenthesis shows the number of open credit memos.];
                SourceExpr=GetAmountOnOutstandingCrMemos;
                CaptionClass=STRSUBSTNO(OutstandingCrMemosCap,FORMAT(NoOutstandingCrMemos));
                OnDrillDown=BEGIN
                              MiniCustomerMgt.DrillDownOnUnpostedCrMemos("No.")
                            END;
                             }

    { 75  ;3   ;Field     ;
                CaptionML=[DAN=Salg i alt;
                           ENU=Total Sales];
                ToolTipML=[DAN=Angiver den samlede salgsomsætning med debitoren i det aktuelle regnskabsår. Den beregnes ud fra beløbene, ekskl. moms, på alle afsluttede og åbne salgsfakturaer og kreditnotaer.;
                           ENU=Specifies your total sales turnover with the customer in the current fiscal year. It is calculated from amounts excluding VAT on all completed and open sales invoices and credit memos.];
                SourceExpr=Totals;
                Style=Strong;
                StyleExpr=TRUE }

    { 74  ;3   ;Field     ;
                CaptionML=[DAN=Fakturarabatter;
                           ENU=Invoice Discounts];
                ToolTipML=[DAN=Angiver totalen for alle fakturarabatter, der er ydet til debitoren i det aktuelle regnskabsår.;
                           ENU=Specifies the total of all invoice discounts that you have granted to the customer in the current fiscal year.];
                SourceExpr=CustInvDiscAmountLCY }

    { 24  ;2   ;Part      ;
                Name=AgedAccReceivableChart;
                SubPageLink=No.=FIELD(No.);
                PagePartID=Page768;
                Visible=ShowCharts;
                PartType=Page }

    { 86  ;1   ;Part      ;
                Name=PriceAndLineDisc;
                PagePartID=Page1345;
                PartType=Page }

    { 13  ;    ;Container ;
                ContainerType=FactBoxArea }

    { 159 ;1   ;Part      ;
                CaptionML=[DAN=Detaljer;
                           ENU=Details];
                SubPageLink=No.=FIELD(No.);
                PagePartID=Page1611;
                Visible=FALSE;
                PartType=Page }

    { 49  ;1   ;Part      ;
                Name=AgedAccReceivableChart2;
                SubPageLink=No.=FIELD(No.);
                PagePartID=Page768;
                Visible=FALSE;
                PartType=Page }

    { 89  ;1   ;Part      ;
                SubPageLink=No.=FIELD(No.);
                PagePartID=Page5360;
                Visible=CRMIsCoupledToRecord;
                PartType=Page }

    { 87  ;1   ;Part      ;
                SubPageLink=Source Type=CONST(Customer),
                            Source No.=FIELD(No.);
                PagePartID=Page875;
                Visible=SocialListeningVisible;
                PartType=Page }

    { 95  ;1   ;Part      ;
                SubPageLink=Source Type=CONST(Customer),
                            Source No.=FIELD(No.);
                PagePartID=Page876;
                Visible=SocialListeningSetupVisible;
                PartType=Page;
                UpdatePropagation=Both }

    { 77  ;1   ;Part      ;
                CaptionML=[DAN=Salgshistorik;
                           ENU=Sales History];
                SubPageLink=No.=FIELD(No.),
                            Currency Filter=FIELD(Currency Filter),
                            Date Filter=FIELD(Date Filter),
                            Global Dimension 1 Filter=FIELD(Global Dimension 1 Filter),
                            Global Dimension 2 Filter=FIELD(Global Dimension 2 Filter);
                PagePartID=Page1318;
                PartType=Page }

  }
  CODE
  {
    VAR
      MiniCustomerMgt@1000 : Codeunit 1302;
      BlockedCustomer@1007 : Boolean;
      DynamicEditable@1029 : Boolean;
      OverduePaymentsCap@1005 : TextConst '@@@=Overdue Payments as of 27-02-2012;DAN=Forfaldne betalinger pr. %1;ENU=Overdue Payments as of %1';
      ShowCharts@1028 : Boolean INDATASET;
      CustSalesLCY@1010 : Decimal;
      AdjmtCostLCY@1024 : Decimal;
      AdjCustProfit@1009 : Decimal;
      CustProfit@1011 : Decimal;
      AdjProfitPct@1008 : Decimal;
      CustInvDiscAmountLCY@1006 : Decimal;
      CustPaymentsLCY@1004 : Decimal;
      BalanceExhausted@1012 : Boolean;
      PostedInvoicesCap@1014 : TextConst '@@@=Invoices (5);DAN=Bogførte fakturaer (%1);ENU=Posted Invoices (%1)';
      CreditMemosCap@1015 : TextConst '@@@=Credit Memos (3);DAN=Bogførte kreditnotaer (%1);ENU=Posted Credit Memos (%1)';
      OutstandingInvoicesCap@1016 : TextConst '@@@=Ongoing Invoices (4);DAN=Igangværende fakturaer (%1);ENU=Ongoing Invoices (%1)';
      NoPostedInvoices@1018 : Integer;
      NoPostedCrMemos@1017 : Integer;
      NoOutstandingInvoices@1020 : Integer;
      NoOutstandingCrMemos@1019 : Integer;
      AmountOnPostedInvoices@1021 : Decimal;
      AmountOnPostedCrMemos@1013 : Decimal;
      OutstandingCrMemosCap@1022 : TextConst '@@@=Ongoing Credit Memos (4);DAN=Igangværende kreditnotaer (%1);ENU=Ongoing Credit Memos (%1)';
      AmountOnOutstandingInvoices@1023 : Decimal;
      AmountOnOutstandingCrMemos@1001 : Decimal;
      Totals@1025 : Decimal;
      DaysPastDueDate@1026 : Decimal;
      AttentionToPaidDay@1027 : Boolean;
      EANNoMandatory@1060000 : Boolean;
      SocialListeningSetupVisible@1031 : Boolean INDATASET;
      SocialListeningVisible@1030 : Boolean INDATASET;
      CRMIntegrationEnabled@1033 : Boolean;
      CRMIsCoupledToRecord@1032 : Boolean;

    LOCAL PROCEDURE GetTotalSales@6() : Decimal;
    BEGIN
      NoPostedInvoices := 0;
      NoPostedCrMemos := 0;
      NoOutstandingInvoices := 0;
      NoOutstandingCrMemos := 0;
      Totals := 0;

      AmountOnPostedInvoices := MiniCustomerMgt.CalcAmountsOnPostedInvoices("No.",NoPostedInvoices);
      AmountOnPostedCrMemos := MiniCustomerMgt.CalcAmountsOnPostedCrMemos("No.",NoPostedCrMemos);

      AmountOnOutstandingInvoices := MiniCustomerMgt.CalculateAmountsOnUnpostedInvoices("No.",NoOutstandingInvoices);
      AmountOnOutstandingCrMemos := MiniCustomerMgt.CalculateAmountsOnUnpostedCrMemos("No.",NoOutstandingCrMemos);

      Totals := AmountOnPostedInvoices + AmountOnPostedCrMemos + AmountOnOutstandingInvoices + AmountOnOutstandingCrMemos;

      MiniCustomerMgt.CalculateStatistic(
        Rec,
        AdjmtCostLCY,AdjCustProfit,AdjProfitPct,
        CustInvDiscAmountLCY,CustPaymentsLCY,CustSalesLCY,
        CustProfit);
      EXIT(Totals)
    END;

    LOCAL PROCEDURE GetAmountOnPostedInvoices@5() : Decimal;
    BEGIN
      EXIT(AmountOnPostedInvoices)
    END;

    LOCAL PROCEDURE GetAmountOnCrMemo@8() : Decimal;
    BEGIN
      EXIT(AmountOnPostedCrMemos)
    END;

    LOCAL PROCEDURE GetAmountOnOutstandingInvoices@9() : Decimal;
    BEGIN
      EXIT(AmountOnOutstandingInvoices)
    END;

    LOCAL PROCEDURE GetAmountOnOutstandingCrMemos@10() : Decimal;
    BEGIN
      EXIT(AmountOnOutstandingCrMemos)
    END;

    LOCAL PROCEDURE GetMoneyOwedExpected@11() : Decimal;
    BEGIN
      EXIT(MiniCustomerMgt.CalculateAmountsWithVATOnUnpostedDocuments("No."))
    END;

    LOCAL PROCEDURE GetSalesPricesAndSalesLineDisc@4();
    BEGIN
      IF "No." <> CurrPage.PriceAndLineDisc.PAGE.GetLoadedCustNo THEN BEGIN
        CurrPage.PriceAndLineDisc.PAGE.LoadCustomer(Rec);
        CurrPage.PriceAndLineDisc.PAGE.UPDATE(FALSE);
      END;
    END;

    LOCAL PROCEDURE SetSocialListeningFactboxVisibility@1();
    VAR
      SocialListeningMgt@1000 : Codeunit 871;
    BEGIN
      SocialListeningMgt.GetCustFactboxVisibility(Rec,SocialListeningSetupVisible,SocialListeningVisible);
    END;

    BEGIN
    END.
  }
}

